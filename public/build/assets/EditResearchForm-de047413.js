import{W as _,R as u,j as e}from"./app-efa55958.js";import{P as C}from"./PrimaryButton-63ebb02b.js";import{P as S,F as R}from"./FileUpload-8df4bbf1.js";import{Q as w}from"./chunk-SK7D2XJH-8c4bbfe6.js";import{I as A,a as T,C as z}from"./chunk-BTVB6U66-8a1064af.js";import{F as k}from"./index.esm-e20009f6.js";import{C as B}from"./ChakraDatePicker-e9021b68.js";import{u as D}from"./chunk-5LTIYV3A-a216305e.js";import{G as P}from"./chunk-JARCRF6W-6766cdec.js";import{G as g}from"./chunk-ZPFGWTBB-5ba3fc59.js";import{V as p}from"./chunk-NTCQBYKE-db626ce2.js";import{F as o,I as m}from"./chunk-6CVSDS6C-e8322ee8.js";import{F as l}from"./chunk-GCOAS5YC-b63ccf93.js";import{F as n}from"./chunk-5ZQ6B3SW-100d0584.js";import{T as f}from"./chunk-4IH3O7BJ-322ca07b.js";import{A as E,a as G,b as L,c as O,d as M}from"./chunk-CRBMUVJA-dd564ac7.js";import{B as j}from"./chunk-PULVB27S-076b392b.js";import{T as U}from"./chunk-KICXRNWJ-a026dd73.js";import{A as N}from"./chunk-ZVFRDZZY-c7b9eef5.js";import{B as Y}from"./chunk-UVUR7MCU-f950a53f.js";import{I as q}from"./chunk-FKYN3ZGE-f31ed73d.js";import"./chunk-KRPLQIP4-2070ff1c.js";import"./chunk-ZHMYA64R-2b67766a.js";import"./chunk-G72KV6MB-dbbc8cf4.js";import"./chunk-7OLJDQMT-7f99fc6b.js";import"./chunk-2OOHT3W5-8a8b58d4.js";import"./chunk-R3DH46PF-f0689d26.js";import"./chunk-QINAG4RG-420d55bb.js";import"./chunk-SPIKMR6I-154a1106.js";import"./chunk-DEQZ7DVA-e22fe2bd.js";import"./iconBase-93c9f5ca.js";import"./index-205f2ee0.js";import"./defineProperty-0e4f3c13.js";import"./createSuper-0a89e92d.js";import"./index-ba18a0bd.js";import"./chunk-RKXMPHPI-3dbbc512.js";import"./chunk-6NHXDBFO-987cde81.js";import"./chunk-OCNORRQU-3e952216.js";import"./chunk-3XANSPY5-cf37bc50.js";import"./index-01a9cce7.js";function ze({research:s}){const{data:r,setData:a,post:b,processing:y,errors:t}=_({title:s.title,subtitle:s.subtitle,description:s.description,year:s.year,image:s.featured_image?s.featured_image.name:null,file:s.file?s.file.name:null,meta_title:s.meta_title,meta_description:s.meta_description}),v=D(),[d,x]=u.useState(s.file?s.file.name:""),[c,h]=u.useState(()=>{r.image!==null&&""+r.image}),F=i=>{i.preventDefault(),b(route("admin.research.update",{_method:"patch",research:s.id}),{preserveScroll:!0,onSuccess:()=>v({position:"top-right",title:"Research Edited.",description:`Research ${r.title} Successfully`,status:"success",duration:6e3,isClosable:!0}),onError:I=>{console.log(I)}})};return e.jsx("form",{onSubmit:F,children:e.jsxs(P,{templateColumns:{base:"1fr",xl:"repeat(6, minmax(100px, 1fr))"},autoRows:"auto",gap:8,children:[e.jsx(g,{colSpan:{base:1,xl:4},children:e.jsxs(p,{spacing:8,position:"sticky",top:"2rem",children:[e.jsxs(o,{isInvalid:t.title,isRequired:!0,children:[e.jsx(l,{htmlFor:"title",children:"Title"}),e.jsx(m,{type:"text",id:"title",name:"title",display:"flex",mt:1,autoComplete:"title",value:r.title,onChange:i=>a("title",i.target.value)}),t.title&&e.jsx(n,{mt:2,children:t.title})]}),e.jsxs(o,{isInvalid:t.subtitle,children:[e.jsx(l,{htmlFor:"subtitle",children:"Subtitle"}),e.jsx(m,{type:"text",id:"subtitle",name:"subtitle",display:"flex",mt:1,autoComplete:"subtitle",value:r.subtitle,onChange:i=>a("subtitle",i.target.value)}),t.title&&e.jsx(n,{mt:2,children:t.title})]}),e.jsxs(o,{mt:4,isInvalid:t.description,children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsx(f,{name:"description",id:"description",rows:6,resize:"vertical",value:r.description,onChange:i=>a("description",i.target.value)}),t.description&&e.jsx(n,{mt:2,children:t.description})]})]})}),e.jsx(g,{colSpan:{base:1,xl:2},children:e.jsxs(p,{spacing:8,children:[e.jsx(E,{allowToggle:!0,w:"full",children:e.jsxs(G,{children:[e.jsx("h2",{children:e.jsxs(L,{_expanded:{bg:"gray.600",color:"white"},children:[e.jsxs(j,{as:"span",flex:"1",textAlign:"left",fontWeight:"semibold",children:["SEO Meta Tags ",e.jsx(U,{label:"Add title and description for SEO",fontSize:"xs",children:e.jsx(w,{boxSize:3})})]}),e.jsx(O,{})]})}),e.jsx(M,{pb:4,children:e.jsxs(p,{gap:"6",alignItems:"start",children:[e.jsxs(o,{mt:"4",isInvalid:t.meta_title,children:[e.jsx(l,{htmlFor:"meta_title",children:"Meta Title"}),e.jsx(m,{id:"meta_title",name:"meta_title",placeholder:"enter meta title",value:r.meta_title,onChange:i=>a("meta_title",i.target.value)}),e.jsx(n,{message:t.meta_title,className:"mt-2"})]}),e.jsxs(o,{mt:"4",isInvalid:t.meta_description,children:[e.jsx(l,{htmlFor:"meta_description",children:"Meta Description"}),e.jsx(f,{id:"meta_description",name:"meta_description",placeholder:"enter meta_description",value:r.meta_description,rows:3,resize:"vertical",onChange:i=>a("meta_description",i.target.value)}),e.jsx(n,{message:t.meta_description,className:"mt-2"})]})]})})]})}),e.jsxs(o,{isInvalid:t.year,isRequired:!0,as:"fieldset",children:[e.jsx(l,{as:"legend",htmlFor:"year",children:"Year"}),e.jsx(B,{name:"year",selected:new Date(r.year,1,1),onChange:i=>{a("year",i.getFullYear()),setStartDate(i)},dateFormat:"yyyy",showYearPicker:!0}),t.year&&e.jsx(n,{mt:2,children:t.year})]}),e.jsxs(o,{mt:4,isInvalid:t.image,children:[e.jsx(l,{htmlFor:"image",children:"Featured Image"}),c&&e.jsxs(e.Fragment,{children:[e.jsx(N,{w:"64",ratio:3/4,children:e.jsx(S,{src:c})}),e.jsx(Y,{mt:4,size:"sm",colorScheme:"red",onClick:()=>{h(null)},children:"Remove/Change Image"})]}),!c&&e.jsx(R,{children:e.jsx(m,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:"image/*",id:"image",name:"image",placeholder:"Browse Image",size:"md",onChange:i=>{console.log(i.target.files),a("image",i.target.files[0]),h(URL.createObjectURL(i.target.files[0]))}})}),t.image&&e.jsx(n,{mt:2,children:t.image})]}),e.jsxs(o,{mt:4,isInvalid:t.file,children:[e.jsx(l,{htmlFor:"file",children:"File Upload"}),e.jsxs(q,{children:[e.jsx(A,{children:e.jsx(k,{})}),e.jsxs(j,{position:"relative",children:[e.jsx(m,{size:"md",isReadOnly:!0,placeholder:d||"No file selected"}),e.jsx(m,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:".pdf,.doc,.docx,.ppt,.pptx",id:"file",name:"file",size:"md",onChange:i=>{x(i.target.files[0].name),a("file",i.target.files[0])}})]}),d&&e.jsx(T,{children:e.jsx(z,{color:"red.500",onClick:()=>{x(null)}})})]}),t.file&&e.jsx(n,{mt:2,children:t.file})]}),e.jsx(C,{type:"submit",isLoading:y,mt:4,w:"64",children:"Save"})]})})]})})}export{ze as default};
