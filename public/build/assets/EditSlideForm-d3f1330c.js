import{W as b,R as F,j as e}from"./app-efa55958.js";import{P as S}from"./PrimaryButton-63ebb02b.js";import{P as v,F as C}from"./FileUpload-8df4bbf1.js";import{u as _}from"./chunk-5LTIYV3A-a216305e.js";import{F as l,I as n}from"./chunk-6CVSDS6C-e8322ee8.js";import{F as o}from"./chunk-GCOAS5YC-b63ccf93.js";import{S as R}from"./chunk-3RSXBRAN-bbea2ba3.js";import{F as m}from"./chunk-5ZQ6B3SW-100d0584.js";import{B as I}from"./chunk-UVUR7MCU-f950a53f.js";import{B as y}from"./chunk-PULVB27S-076b392b.js";import"./chunk-KRPLQIP4-2070ff1c.js";import"./chunk-ZHMYA64R-2b67766a.js";import"./chunk-G72KV6MB-dbbc8cf4.js";import"./chunk-7OLJDQMT-7f99fc6b.js";import"./chunk-2OOHT3W5-8a8b58d4.js";import"./chunk-R3DH46PF-f0689d26.js";import"./chunk-QINAG4RG-420d55bb.js";import"./chunk-SPIKMR6I-154a1106.js";function J({slide:r,sliders:c}){const{data:s,setData:a,post:u,processing:g,errors:i,reset:h}=b({title:r.title,subtitle:r.subtitle,slider_id:r.slider_id}),j=_(),[d,p]=F.useState(s.image),x=t=>{t.preventDefault(),console.log(s),u(route("admin.slides.store",{_method:"PATCH",slide:r.id}),{preserveScroll:!0,onSuccess:()=>j({position:"top-right",title:"Slide Created.",description:"Slide Created Successfully",status:"success",duration:6e3,isClosable:!0}),onError:f=>{f.title&&h("title")}})};return e.jsxs("form",{onSubmit:x,children:[e.jsxs(l,{isInvalid:i.slider_id,isRequired:!0,as:"fieldset",children:[e.jsx(o,{as:"legend",htmlFor:"slider_id",children:"For Slider"}),e.jsx(R,{name:"slider_id",value:s.slider_id,onChange:t=>{a("slider_id",t.target.value)},children:c&&c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),i.slider_id&&e.jsx(m,{mt:2,children:i.slider_id})]}),e.jsxs(l,{mt:"4",isInvalid:i.title,children:[e.jsx(o,{htmlFor:"title",children:"Title"}),e.jsx(n,{id:"title",name:"title",value:s.title,onChange:t=>a("title",t.target.value)}),e.jsx(m,{message:i.title,className:"mt-2"})]}),e.jsxs(l,{mt:"4",children:[e.jsx(o,{htmlFor:"subtitle",children:"Subtitle"}),e.jsx(n,{id:"subtitle",name:"subtitle",value:s.subtitle,onChange:t=>a("subtitle",t.target.value)}),e.jsx(m,{message:i.subtitle,className:"mt-2"})]}),e.jsxs(l,{mt:4,isRequired:!0,children:[e.jsx(o,{htmlFor:"image",children:"Slide Image"}),d&&e.jsxs(e.Fragment,{children:[e.jsx(v,{src:d,aspectRatio:16/9}),e.jsx(I,{mt:4,size:"sm",colorScheme:"red",onClick:()=>{p(null)},children:"Remove/Change Image"})]}),!d&&e.jsx(C,{accept:"image/.png,.jpg,.jpeg,.webp",children:e.jsx(n,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:"image/.png,.jpg,.jpeg,.webp",id:"image",name:"image",size:"md",onChange:t=>{a("image",t.target.files[0]),p(URL.createObjectURL(t.target.files[0]))}})}),i.image&&e.jsx(m,{mt:2,children:i.image})]}),e.jsx(y,{display:"flex",gap:"4",mt:"4",children:e.jsx(S,{type:"submit",isLoading:g,children:"Save"})})]})}export{J as default};
