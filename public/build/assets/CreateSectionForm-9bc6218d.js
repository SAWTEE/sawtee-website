import{W as v,R as S,j as e}from"./app-efa55958.js";import{P as C}from"./PrimaryButton-63ebb02b.js";import{C as F}from"./ContentEditor-3e62ebb7.js";import{P as k,F as R}from"./FileUpload-8df4bbf1.js";import{u as b}from"./chunk-5LTIYV3A-a216305e.js";import{V as I}from"./chunk-NTCQBYKE-db626ce2.js";import{F as n,I as c}from"./chunk-6CVSDS6C-e8322ee8.js";import{F as s}from"./chunk-GCOAS5YC-b63ccf93.js";import{F as a}from"./chunk-5ZQ6B3SW-100d0584.js";import{S as _}from"./chunk-ZHMYA64R-2b67766a.js";import{R as P}from"./chunk-RDF2AYID-f379ce17.js";import{B as w}from"./chunk-UVUR7MCU-f950a53f.js";import{S as g}from"./chunk-3RSXBRAN-bbea2ba3.js";import{B}from"./chunk-PULVB27S-076b392b.js";import"./index-7ad6ff22.js";import"./chunk-KRPLQIP4-2070ff1c.js";import"./chunk-7OLJDQMT-7f99fc6b.js";import"./chunk-2OOHT3W5-8a8b58d4.js";import"./chunk-R3DH46PF-f0689d26.js";import"./chunk-QINAG4RG-420d55bb.js";import"./chunk-SPIKMR6I-154a1106.js";import"./chunk-G72KV6MB-dbbc8cf4.js";import"./index-979d1106.js";function te({sections:l,pages:d}){const{data:p,setData:r,post:u,processing:x,errors:i}=v({title:"",description:"",type:"default",link:"",parent_id:null,page_id:null,image:""}),j=b(),f=["default","tabs","accordian","members"],[m,h]=S.useState(null),y=t=>{t.preventDefault(),u(route("admin.sections.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>j({position:"top-right",title:"Section Created.",description:`Section ${p.title} created Successfully`,status:"success",duration:6e3,isClosable:!0}),onError:o=>{console.log(o)}})};return e.jsx("form",{onSubmit:y,children:e.jsxs(I,{spacing:8,position:"sticky",top:"2rem",children:[e.jsxs(n,{isInvalid:i.title,isRequired:!0,children:[e.jsx(s,{htmlFor:"title",children:"Section Title"}),e.jsx(c,{type:"text",id:"title",name:"title",display:"flex",mt:1,autoComplete:"title",onChange:t=>r("title",t.target.value)}),i.title&&e.jsx(a,{mt:2,children:i.title})]}),e.jsxs(n,{isInvalid:i.link,children:[e.jsx(s,{htmlFor:"link",children:"Link"}),e.jsx(c,{type:"text",id:"link",name:"link",display:"flex",mt:1,autoComplete:"link",onChange:t=>r("link",t.target.value)}),i.link&&e.jsx(a,{mt:2,children:i.link})]}),e.jsxs(n,{mt:4,isInvalid:i.type,isRequired:!0,as:"fieldset",children:[e.jsx(s,{as:"legend",htmlFor:"type",children:"Section Type"}),e.jsx(_,{direction:"row",spacing:8,children:f.map(t=>e.jsx(P,{name:"type",isChecked:p.type===t,value:t,onChange:o=>{r("type",o.target.value)},children:t},t))}),i.type&&e.jsx(a,{mt:2,children:i.type})]}),e.jsxs(n,{mt:4,children:[e.jsx(s,{htmlFor:"image",children:"Image"}),m&&e.jsxs(e.Fragment,{children:[e.jsx(k,{src:m,aspectRatio:16/9}),e.jsx(w,{mt:4,size:"sm",colorScheme:"red",onClick:()=>{h(null)},children:"Remove/Change Image"})]}),!m&&e.jsx(R,{accept:"image/.png,.jpg,.jpeg,.webp",children:e.jsx(c,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:"image/.png,.jpg,.jpeg,.webp",id:"image",name:"image",size:"md",onChange:t=>{r("image",t.target.files[0]),h(URL.createObjectURL(t.target.files[0]))}})}),i.image&&e.jsx(a,{mt:2,children:i.image})]}),e.jsxs(n,{isRequired:!0,as:"fieldset",children:[e.jsx(s,{as:"legend",htmlFor:"page_id",children:"For Page"}),e.jsxs(g,{name:"page_id",id:"page_id",placeholder:"Select Page",onChange:t=>{r("page_id",t.target.value)},children:[e.jsx("option",{value:null,children:"None"}),d&&d.length>0&&d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs(n,{mt:4,isInvalid:i.description,children:[e.jsx(s,{htmlFor:"description",children:"Description"}),e.jsx(F,{name:"description",id:"description",onChange:(t,o)=>r("description",o.getContent())}),i.description&&e.jsx(a,{mt:2,children:i.description})]}),p.type!=="default"&&e.jsxs(n,{as:"fieldset",children:[e.jsx(s,{as:"legend",htmlFor:"parent_id",children:"Parent"}),e.jsxs(g,{name:"parent_id",id:"parent_id",placeholder:"Select Parent",onChange:t=>{r("parent_id",t.target.value)},children:[e.jsx("option",{value:null,children:"None"}),l&&l.length>0&&l.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))]})]}),e.jsx(B,{display:"flex",gap:"4",mt:"4",children:e.jsx(C,{type:"submit",isLoading:x,children:"Save"})})]})})}export{te as default};
