import{W as C,R as p,j as e,u as I}from"./app-b86f65ba.js";import{P as S}from"./PrimaryButton-5fa5504e.js";import{P as b,F as y}from"./FileUpload-c7623ec4.js";import{C as w}from"./ContentEditor-0b34f845.js";import{A as R}from"./chunk-ZVFRDZZY-f4d906bd.js";import{S as E}from"./chunk-NEK3OOAM-d200d7df.js";import{V as g}from"./chunk-NTCQBYKE-9550ce1a.js";import{B as P}from"./chunk-PULVB27S-40ef37d8.js";import{u as L}from"./chunk-5LTIYV3A-c0d0565c.js";import{F as m,I as l}from"./chunk-6CVSDS6C-435f6bfb.js";import{F as n}from"./chunk-GCOAS5YC-ffd1c6d3.js";import{F as o}from"./chunk-5ZQ6B3SW-32c7ef0f.js";import{T as B}from"./chunk-4IH3O7BJ-eeb8f560.js";import{B as M}from"./chunk-UVUR7MCU-0c7d985a.js";import"./chunk-KRPLQIP4-df7f6101.js";import"./chunk-ZHMYA64R-3bf5ed2b.js";import"./chunk-G72KV6MB-ad524ee2.js";import"./chunk-7OLJDQMT-7196af02.js";import"./chunk-2OOHT3W5-264de18c.js";import"./chunk-R3DH46PF-f0689d26.js";import"./chunk-QINAG4RG-a0760f00.js";import"./chunk-SPIKMR6I-87968274.js";import"./index-2d98b792.js";import"./chunk-JARCRF6W-d15390c1.js";function ae({page:s}){const{data:a,setData:r,post:h,processing:x,errors:t,reset:j}=C({name:s.name,slug:s.slug,content:s.content,image:null,meta_title:s.meta_title,meta_description:s.meta_description}),f=L(),[v,_]=p.useState(s.slug),[c,u]=p.useState(s.media[0]?s.media[0].preview_url:null),F=i=>{i.preventDefault(),h(route("admin.pages.update",{_method:"patch",page:s.id}),{preserveScroll:!0,onSuccess:()=>f({position:"top-right",title:"Page Edited.",description:"Page Edited Successfully",status:"success",duration:6e3,isClosable:!0}),onError:d=>{d.name&&j("name")}})};return p.useEffect(()=>{a.name&&(_(a.name.toLowerCase().replace(/\s+/g,"-")),r("slug",a.name.toLowerCase().replace(/\s+/g,"-")))},[a.name]),e.jsxs("form",{onSubmit:F,children:[e.jsxs(E,{columns:2,spacing:4,children:[e.jsxs(g,{gap:"6",alignItems:"start",children:[e.jsxs(m,{mt:"4",isInvalid:t.name,isRequired:!0,children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(l,{type:"text",id:"name",name:"name",value:a.name,onChange:i=>r("name",i.target.value)}),e.jsx(o,{message:t.name,className:"mt-2"})]}),e.jsxs(m,{mt:"4",isInvalid:t.name,children:[e.jsx(n,{htmlFor:"slug",children:"Slug"}),e.jsx(l,{type:"text",id:"slug",isReadOnly:!0,name:"slug",color:I("blue.600","blue.300"),value:v,display:"flex",mt:1})]})]}),e.jsxs(g,{gap:"6",alignItems:"start",children:[e.jsxs(m,{mt:"4",isInvalid:t.meta_title,children:[e.jsx(n,{htmlFor:"meta_title",children:"Meta Title"}),e.jsx(l,{id:"meta_title",name:"meta_title",value:a.meta_title,onChange:i=>r("meta_title",i.target.value)}),e.jsx(o,{message:t.meta_title,className:"mt-2"})]}),e.jsxs(m,{mt:"4",isInvalid:t.meta_description,children:[e.jsx(n,{htmlFor:"meta_description",children:"Meta Description"}),e.jsx(B,{id:"meta_description",name:"meta_description",value:a.meta_description,rows:3,resize:"vertical",onChange:i=>r("meta_description",i.target.value)}),e.jsx(o,{message:t.meta_description,className:"mt-2"})]})]})]}),e.jsxs(m,{mt:4,isInvalid:t.content,children:[e.jsx(n,{htmlFor:"content",children:"Content"}),e.jsx(w,{name:"content",id:"content",initialValue:a.content,onChange:(i,d)=>r("content",d.getContent())}),t.content&&e.jsx(o,{mt:2,children:t.content})]}),e.jsxs(m,{mt:4,isInvalid:t.image,children:[e.jsx(n,{htmlFor:"image",children:"Featured Image"}),c&&e.jsxs(e.Fragment,{children:[e.jsx(R,{w:"96",ratio:16/9,children:e.jsx(b,{src:c})}),e.jsx(M,{mt:4,size:"sm",colorScheme:"red",onClick:()=>{u(null)},children:"Remove/Change Image"})]}),!c&&e.jsx(y,{accept:"image/.png,.jpg,.jpeg,.webp",children:e.jsx(l,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:"image/.png,.jpg,.jpeg,.webp",id:"image",name:"image",size:"md",onChange:i=>{r("image",i.target.files[0]),u(URL.createObjectURL(i.target.files[0]))}})}),t.image&&e.jsx(o,{mt:2,children:t.image})]}),e.jsx(P,{display:"flex",gap:"4",mt:"4",children:e.jsx(S,{type:"submit",isLoading:x,children:"Save"})})]})}export{ae as default};
