import{W as S,R as F,j as e}from"./app-b86f65ba.js";import{P as C}from"./PrimaryButton-5fa5504e.js";import{C as k}from"./ContentEditor-0b34f845.js";import{P as _,F as R}from"./FileUpload-c7623ec4.js";import{u as b}from"./chunk-5LTIYV3A-c0d0565c.js";import{V as I}from"./chunk-NTCQBYKE-9550ce1a.js";import{F as s,I as h}from"./chunk-6CVSDS6C-435f6bfb.js";import{F as l}from"./chunk-GCOAS5YC-ffd1c6d3.js";import{F as d}from"./chunk-5ZQ6B3SW-32c7ef0f.js";import{S as P}from"./chunk-ZHMYA64R-3bf5ed2b.js";import{R as w}from"./chunk-RDF2AYID-ebdd0d76.js";import{A as B}from"./chunk-ZVFRDZZY-f4d906bd.js";import{B as E}from"./chunk-UVUR7MCU-0c7d985a.js";import{S as u}from"./chunk-3RSXBRAN-3976b745.js";import{B as L}from"./chunk-PULVB27S-40ef37d8.js";import"./index-2d98b792.js";import"./chunk-KRPLQIP4-df7f6101.js";import"./chunk-7OLJDQMT-7196af02.js";import"./chunk-2OOHT3W5-264de18c.js";import"./chunk-R3DH46PF-f0689d26.js";import"./chunk-QINAG4RG-a0760f00.js";import"./chunk-SPIKMR6I-87968274.js";import"./chunk-G72KV6MB-ad524ee2.js";import"./index-979d1106.js";function ae({sections:p,section:r,pages:m}){const{data:a,setData:n,post:x,processing:j,errors:i}=S({title:r.title,description:r.description,type:r.type,link:r.link,parent_id:r.parent_id,page_id:r.page_id}),f=b(),v=["default","tabs","accordian","members"],[c,g]=F.useState(r.media[0]?r.media[0].original_url:null),y=t=>{t.preventDefault(),x(route("admin.sections.update",{_method:"patch",section:r.id}),{preserveScroll:!0,onSuccess:()=>f({position:"top-right",title:"Section edited.",description:"Section edited Successfully",status:"success",duration:6e3,isClosable:!0}),onError:o=>{o.title&&reset("title")}})};return e.jsx("form",{onSubmit:y,children:e.jsxs(I,{spacing:8,children:[e.jsxs(s,{isInvalid:i.title,isRequired:!0,children:[e.jsx(l,{htmlFor:"title",children:"Section Title"}),e.jsx(h,{type:"text",id:"title",name:"title",display:"flex",value:a.title,mt:1,autoComplete:"title",onChange:t=>n("title",t.target.value)}),i.title&&e.jsx(d,{mt:2,children:i.title})]}),e.jsxs(s,{isInvalid:i.link,children:[e.jsx(l,{htmlFor:"link",children:"Link"}),e.jsx(h,{type:"text",id:"link",name:"link",display:"flex",mt:1,value:a.link,autoComplete:"link",onChange:t=>n("link",t.target.value)}),i.link&&e.jsx(d,{mt:2,children:i.link})]}),e.jsxs(s,{mt:4,isInvalid:i.type,isRequired:!0,as:"fieldset",children:[e.jsx(l,{as:"legend",htmlFor:"type",children:"Section Type"}),e.jsx(P,{direction:"row",spacing:8,children:v.map(t=>e.jsx(w,{name:"type",isChecked:a.type===t,value:t,onChange:o=>{n("type",o.target.value)},children:t},t))}),i.type&&e.jsx(d,{mt:2,children:i.type})]}),e.jsxs(s,{mt:4,children:[e.jsx(l,{htmlFor:"image",children:"Image"}),c&&e.jsxs(e.Fragment,{children:[e.jsx(B,{w:64,ratio:2/3,children:e.jsx(_,{src:c})}),e.jsx(E,{mt:4,size:"sm",colorScheme:"red",onClick:()=>{g(null)},children:"Remove/Change Image"})]}),!c&&e.jsx(R,{accept:"image/.png,.jpg,.jpeg,.webp",children:e.jsx(h,{type:"file",height:"100%",width:"100%",position:"absolute",top:"0",left:"0",opacity:"0","aria-hidden":"true",accept:"image/.png,.jpg,.jpeg,.webp",id:"image",name:"image",size:"md",onChange:t=>{n("image",t.target.files[0]),g(URL.createObjectURL(t.target.files[0]))}})}),i.image&&e.jsx(d,{mt:2,children:i.image})]}),e.jsxs(s,{isRequired:!0,as:"fieldset",children:[e.jsx(l,{as:"legend",htmlFor:"page_id",children:"For Page"}),e.jsx(u,{name:"page_id",id:"page_id",placeholder:"Select Page",value:a.page_id,onChange:t=>{n("page_id",t.target.value)},children:m&&m.length>0&&m.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs(s,{mt:4,isInvalid:i.description,children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsx(k,{name:"description",id:"description",initialValue:a.description,onChange:(t,o)=>{n("description",o.getContent())}}),i.description&&e.jsx(d,{mt:2,children:i.description})]}),a.type!=="default"&&e.jsxs(s,{as:"fieldset",children:[e.jsx(l,{as:"legend",htmlFor:"parent_id",children:"Parent"}),e.jsx(u,{name:"parent_id",id:"parent_id",placeholder:"Select Parent",value:a.parent_id,onChange:t=>{n("parent_id",t.target.value)},children:p&&p.length>0&&p.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))})]}),e.jsx(L,{display:"flex",gap:"4",mt:"4",children:e.jsx(C,{type:"submit",isLoading:j,children:"Save"})})]})})}export{ae as default};
